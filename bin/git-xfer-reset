#!/bin/bash
#
# reset git xfer and remove all caches
# 
# @author <bprinty@gmail.com>
# ------------------------------------------------

# meta
# ----
usage() {
    echo "usage: git xfer reset [options] [<remote>]"
    echo ""
    echo "Options:"
    echo "  -h | --help              Show help and exit."
    echo "  -f | --force             Force hard reset of anything git-xfer related."
}


# exec
# ----
xrun() {
    if [ "$#" -lt 1 ]; then
        usage; exit 1
    fi

    case "$1" in
        "-h"|"--help")
            usage; exit 0
            ;;
        "-f"|"--force")
            force='TRUE'; shift
            ;;
    esac

    if [ -z "$force" ]; then
        dest="$1"
        rm -f "$cachedb/cache-$dest"
    else
        rm -rf "$base/.git/xfer"
    fi
}
